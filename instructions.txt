Gemini-Optimized Full-Stack Dynamic Form Builder

You are to generate a complete, production-quality full-stack application called Dynamic Form Builder, built using Node.js (Express) + MongoDB for the backend and React (Vite + TailwindCSS) for the frontend.

This app should allow an admin to create and manage dynamic forms with configurable fields and validations, and allow users to load and submit those forms. Submissions must be validated and stored in MongoDB. The system should also support exporting submissions, pagination, and schema versioning.

üîß BACKEND ‚Äî Node.js + Express + MongoDB

Use Node.js 22+, Express, and Mongoose.

Core Features

CRUD APIs for managing forms, fields, and submissions.

Form structure:

title (string)

description (string)

fields: array of field objects, each containing:

label (string)

type (text, textarea, number, email, date, checkbox, radio, select, file)

name (string, unique within form)

required (boolean)

options (array of strings ‚Äî for select/radio/checkbox)

validation (min, max, regex)

order (number)

conditional fields (for select/radio ‚Äî nested sub-fields)

Versioning: Each form should have a version field. When edited, increment version so old submissions reference the correct schema.

Submissions:

Store raw answers, submittedAt, and formVersion.

Allow fetching submissions with pagination and optional filtering.

Validation:

Validate user submissions server-side based on field definitions.

Return descriptive error messages for invalid data.

Export submissions as CSV.

Authentication: Protect admin routes using an API key or Bearer token.

File Uploads: Use multer for handling uploaded files (save locally or base64).

Security: Use express-validator and sanitize-html to prevent injection.

Folder Structure
backend/
  src/
    config/
      db.js
    models/
      Form.js
      Submission.js
    controllers/
      formController.js
      submissionController.js
    routes/
      adminRoutes.js
      publicRoutes.js
    middlewares/
      authMiddleware.js
    utils/
      csvExporter.js
    app.js
  Dockerfile
  docker-compose.yml
  README.md

Example API Endpoints
Method	Endpoint	Description
GET	/api/forms	List all forms
POST	/api/forms	Create form
PUT	/api/forms/:id	Update form
DELETE	/api/forms/:id	Delete form
POST	/api/forms/:id/fields	Add field
PUT	/api/forms/:id/fields/:fieldId	Edit field
DELETE	/api/forms/:id/fields/:fieldId	Delete field
GET	/api/forms/:id	Get form definition
POST	/api/forms/:id/submit	Submit form response
GET	/api/forms/:id/submissions	List submissions
GET	/api/forms/:id/submissions/export	Export as CSV
Authentication

Use a static admin token in .env:

ADMIN_TOKEN=mysecuretoken
MONGO_URI=mongodb://mongo:27017/formbuilder
PORT=5000


Middleware should validate the token in request headers.

üíª FRONTEND ‚Äî React + Vite + TailwindCSS

Use React (Vite) and TypeScript for the frontend.

The frontend should have two views:

Admin Panel (to manage forms and view submissions)

User Form Renderer (to render and submit forms dynamically)

Admin Panel Features

List existing forms with version info.

Create/edit/delete forms.

Add/edit/delete fields (label, type, name, required, validation rules).

For radio or select fields, allow nested conditional fields.

Drag and drop to reorder fields.

Preview form before saving.

View and filter submissions per form.

Export submissions as CSV.

User Interface Features

Fetch available forms from backend.

Render fields dynamically with appropriate inputs.

Client-side validation (React Hook Form).

Submit data to backend and show success/error state.

Recommended Libraries

React Router (routing)

React Hook Form (form handling)

React Query (data fetching)

React Beautiful DnD (drag & drop)

Axios (API calls)

TailwindCSS (UI styling)

shadcn/ui or MUI (optional for nice UI)

Folder Structure
frontend/
  src/
    pages/
      AdminDashboard.tsx
      FormBuilder.tsx
      Submissions.tsx
      UserForm.tsx
    components/
      FieldEditor.tsx
      FieldRenderer.tsx
      FormList.tsx
      Navbar.tsx
    services/api.ts
    hooks/
    App.tsx
  Dockerfile
  README.md

üß© BONUS FEATURES (Include These)

‚úÖ File upload field support.
‚úÖ Form versioning system.
‚úÖ Pagination & filtering for submissions.
‚úÖ CSV export.
‚úÖ Minimal authentication for admin panel.
‚úÖ Unit & integration tests (Jest + Supertest).
‚úÖ Dockerfile for backend and frontend.
‚úÖ Combined docker-compose setup to run backend + frontend + MongoDB.
‚úÖ Display submission counts in Admin Dashboard.

üß™ Testing

Use Jest for:

Validation logic

CRUD endpoints

Submission flow (integration tests with Supertest)

Example test files:

backend/tests/form.test.js
backend/tests/submission.test.js

üê≥ Docker Setup

Create a root-level docker-compose.yml:

version: '3.8'
services:
  mongo:
    image: mongo
    ports:
      - "27017:27017"
  backend:
    build: ./backend
    ports:
      - "5000:5000"
    depends_on:
      - mongo
  frontend:
    build: ./frontend
    ports:
      - "5173:5173"
    depends_on:
      - backend

üß≠ Developer Instructions

Run backend:

cd backend
npm install
npm run dev


Run frontend:

cd frontend
npm install
npm run dev


Visit http://localhost:5173 for UI.

Test APIs using Postman or from UI.

üì¶ Deliverables

Working full-stack code.

Dockerfile + docker-compose.

README with setup, endpoints, and run instructions.

Short screen recording of working demo.

üß† Goal for Gemini

Generate a complete, structured, and production-ready full-stack application following all the above specifications.

The result should be:

Modular

Well-commented

Tested

Easy to run via Docker

With a React-based admin UI and user-facing form renderer